<!DOCTYPE html>
<html>
<head>
    <title>ESP32 Temperature Dashboard</title>
    <meta http-equiv="refresh" content="10"> <!-- refresh whole page every 10 sec -->
</head>
<body>
    <h1>ðŸŒ¡ ESP32 Temperature Monitoring</h1>

    <p><a href="/download">ðŸ“¥ Download CSV Data</a></p>

    <h2>ðŸ“ˆ Live Temperature Graph</h2>
    <!-- Auto-refresh graph only -->
    <img src="/plot" alt="Temperature Graph" style="max-width:100%;"
         onerror="this.src='/plot';">

    <script>
        // Refresh only the graph every 5 seconds without reloading the page
        setInterval(() => {
            const img = document.querySelector("img");
            img.src = "/plot?ts=" + new Date().getTime(); // cache-buster
        }, 5000);
    </script>
</body>
</html>
